<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="MainStyle.css" media="screen"/>
</head>

<header class="header" role="banner">
    <h1 class="logo">
        <a href="#"><span>Know</span>net</a>
    </h1>
    <div class="nav-wrap">
        <nav class="main-nav" role="navigation">
            <ul class="unstyled ten">
                <li class="picked"><a href="#">My profile</a></li>
                <li><a href="#">Learn</a></li>
                <li><a href="#">Teach</a></li>
                <li><a href="#">My requests</a></li>
                <li><a href="#">News</a></li>
                <li><a href="#">My classes</a></li>
                <li><a href="#">Settings</a></li>
                <!--<li><a href="#">Manage organization</a></li>
                <li><a href="#">Manage Tag tree</a></li>
                <li><a href="#">Manage add-lesson requests</a></li>
                <li><a href="#">Manage reports</a></li>-->
            </ul>
        </nav>
    </div>
</header>

<body class="canvas">
<div class="my-profile">
    <div class="photo">
        <Img src="https://i03.fotocdn.net/s119/f083067e73751fa5/public_pin_l/2723540425.jpg" alt="profile photo">
    </div>
    <div class="contact">
        <h1 id="name">Outer Space</h1>
        <div class="highlight"></div>
        <div class="topics">
            <p>group:</p>
            <p>rating:</p>
            <p>status:</p>
            <p>contact information:</p>
        </div>

        <div class="info">
            <p id="group">MIPT</p>
            <p id="rating">4.56</p>
            <p id="status">Professor</p>
            <p id="email"><a href="#">hello.world@netcracker.edu</a></p>
            <p id="vkLink"><a href="#">http://vk.com/netcrack</a></p>
            <p id="telegramLink"><a href="#">http://telegram.com</a></p>
            <p id="phoneNumber"><a href="#">89150243155</a></p>
        </div>
    </div>

    <div class="lessons-info">
        <p>Lessons conducted:</p>
        <p>Lessons attended:</p>
    </div>

    <div id="field">
        kek lol
    </div>

</div>
</body>

</html>

<script>
    initForm();
    console.log();

    function initForm() {
        let http = new XMLHttpRequest();
        console.log(window.location.href);
        let login = window.location.search.slice(1).split("=")[1];
        http.open('GET', '/users/byLogin/' + login, false);
        http.send();

        if (http.status != 200) {
            alert(http.status + ': ' + http.statusText); // пример вывода: 404: Not Found
        } else {

            let splittedData = http.responseText.split(/,/);

            splittedData.forEach(item => {
                let pair = item.match(/"(.+)":"?([^"}]+)"?/);

                switch (pair[1]) {
                    case "firstName":
                        document.getElementById("name").innerHTML = pair[2];
                        break;
                    case "lastName":
                        document.getElementById("name").innerHTML += " " + pair[2];
                        break;
                    case "rating":
                    case "group":
                    case "email":
                    case "vkLink":
                    case "telegramLink":
                    case "phoneNumber":
                        document.getElementById(pair[1]).innerHTML = pair[2];
                        console.log(pair[2]);
                        console.log(pair[2] == "null");
                        if(pair[2] == "null") {
                            document.getElementById(pair[1]).remove();
                        }
                        break;
                    default:
                        console.log("shit happens here:" + pair[1]);
                }
            });

        }
        //{"id":1,"login":"Vas","encodedPassword":"coolVasya","firstName":"Vasya","lastName":"Petrov","rating":0.0,"points":0,"group":null,"email":null,"vkLink":null,"telegramLink":null,"phoneNumber":null}
    }
</script>